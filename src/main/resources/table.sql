DROP TABLE IF EXISTS loan;
DROP TABLE IF EXISTS blacklist;
DROP TABLE IF EXISTS person;
DROP TABLE IF EXISTS country;

CREATE TABLE person (
    id INT PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    name VARCHAR(50) NOT NULL,
    surname VARCHAR(50) NOT NULL
);

CREATE TABLE country (
    id INT PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    name VARCHAR(50) NOT NULL
);

CREATE TABLE blacklist (
    id INT PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    person_id INT REFERENCES person(id)
);

CREATE TABLE loan (
    id INT PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    amount DOUBLE PRECISION NOT NULL,
    term DATE NOT NULL,
    person_id INT REFERENCES person(id),
    country_id INT REFERENCES country(id)
);

ALTER TABLE loan ADD COLUMN approved BOOL DEFAULT FALSE;